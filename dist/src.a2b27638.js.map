{"version":3,"sources":["src/index.js"],"names":["audioControl","document","getElementById","currentVolume","volumneControl","seekslider","seekto","seeking","audioSource","analyser","audioCtx","audio1","r","g","b","crossOrigin","ranges","querySelectorAll","canvas","width","window","innerWidth","height","innerHeight","addEventListener","value","seektimeupdate","event","seek","clientX","offsetLeft","duration","currentTime","nt","isNaN","classList","remove","add","handleFiles","files","target","$","attr","URL","createObjectURL","load","contains","audioControls","id","play","pause","volume","volumeChange","e","currentTarget","visual","AudioContext","ctx","getContext","createMediaElementSource","createAnalyser","connect","destination","filter","createBiquadFilter","forEach","range","type","getAttribute","gain","frequency","playPromise","undefined","then","_","paused","catch","error","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","barWidth","x","animate","clearRect","getByteFrequencyData","drawVisualizer","requestAnimationFrame","_ref","barHeight","i","fillStyle","concat","fillRect","parseInt","slice","console","log","playbackRate","stopPropagation","click","querySelector"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["let audioControl = document.getElementById(\"audio\");\ncurrentVolume = 25;\nlet volumneControl = document.getElementById(\"volume-control\");\nlet seekslider = document.getElementById(\"seekslider\");\nvar seekto, seeking;\nlet audioSource = null;\nlet analyser = null;\nlet audioCtx = null;\nlet audio1 = audioControl;\nlet r = 0,\n  g = 0,\n  b = 0;\naudio1.crossOrigin = \"anonymous\";\nvar ranges = document.querySelectorAll(\"input[type=range]\");\n\nconst canvas = document.getElementById(\"canvas\");\ncanvas.width = window.innerWidth;\ncanvas.height = window.innerHeight;\n\naudioControl.addEventListener(\"timeupdate\", function () {\n  seekslider.value = \"0\";\n  seektimeupdate();\n});\nseekslider.addEventListener(\"mousedown\", function (event) {\n  seeking = true;\n  seek(event);\n});\nseekslider.addEventListener(\"mousemove\", function (event) {\n  seek(event);\n});\nseekslider.addEventListener(\"mouseup\", function () {\n  seeking = false;\n});\nfunction seek(event) {\n  if (seeking) {\n    seekslider.value = event.clientX - seekslider.offsetLeft;\n    seekto = audioControl.duration * (seekslider.value / 100);\n    audioControl.currentTime = seekto;\n  }\n}\nfunction seektimeupdate() {\n  var nt = audioControl.currentTime * (100 / audioControl.duration);\n  if (isNaN(nt)) {\n    seekslider.value = \"0\";\n  } else {\n    seekslider.value = nt;\n  }\n  if (audioControl.currentTime === audioControl.duration) {\n    document.getElementById(\"play\").classList.remove(\"fa-pause\");\n    document.getElementById(\"play\").classList.add(\"fa-play\");\n  }\n}\nfunction handleFiles(event) {\n  var files = event.target.files;\n  $(\"#src\").attr(\"src\", URL.createObjectURL(files[0]));\n  document.getElementById(\"audio\").load();\n  seekslider.value = \"0\";\n  document.getElementById(\"audioDiv\").classList.remove(\"hide\");\n  if (document.getElementById(\"play\").classList.contains(\"fa-pause\")) {\n    document.getElementById(\"play\").classList.remove(\"fa-pause\");\n    document.getElementById(\"play\").classList.add(\"fa-play\");\n  }\n\n  // event.preventDefault();\n}\ndocument.getElementById(\"uploadDiv\").addEventListener(\"change\", handleFiles);\nfunction audioControls(event) {\n  if (event.target.id === \"play\") {\n    if (document.getElementById(\"play\").classList.contains(\"fa-play\")) {\n      audioControl.play();\n      document.getElementById(\"play\").classList.remove(\"fa-play\");\n      document.getElementById(\"play\").classList.add(\"fa-pause\");\n    } else if (document.getElementById(\"play\").classList.contains(\"fa-pause\")) {\n      audioControl.pause();\n      document.getElementById(\"play\").classList.remove(\"fa-pause\");\n      document.getElementById(\"play\").classList.add(\"fa-play\");\n    }\n  }\n  if (event.target.id === \"forward\") {\n    audioControl.currentTime += 5;\n  }\n  if (event.target.id === \"backward\") {\n    audioControl.currentTime -= 5;\n  }\n  if (event.target.id === \"volume-icon\") {\n    if (\n      document\n        .getElementById(\"volume-icon\")\n        .classList.contains(\"fa-volume-xmark\")\n    ) {\n      document\n        .getElementById(\"volume-icon\")\n        .classList.remove(\"fa-volume-xmark\");\n      document.getElementById(\"volume-icon\").classList.add(\"fa-volume-high\");\n      if (currentVolume === \"0\") {\n        volumneControl.value = \"25\";\n        audioControl.volume = \"2.5\";\n      } else {\n        audioControl.volume = currentVolume / 100;\n        volumneControl.value = \"\" + currentVolume + \"\";\n      }\n    } else if (\n      document\n        .getElementById(\"volume-icon\")\n        .classList.contains(\"fa-volume-high\")\n    ) {\n      audioControl.volume = 0;\n      volumneControl.value = 0;\n      document.getElementById(\"volume-icon\").classList.remove(\"fa-volume-high\");\n      document.getElementById(\"volume-icon\").classList.add(\"fa-volume-xmark\");\n    }\n  }\n}\nfunction volumeChange(e) {\n  currentVolume = volumneControl.value;\n  audioControl.volume = e.currentTarget.value / 100;\n  if (e.currentTarget.value === \"0\") {\n    document.getElementById(\"volume-icon\").classList.remove(\"fa-volume-high\");\n    document.getElementById(\"volume-icon\").classList.add(\"fa-volume-xmark\");\n  } else if (\n    document.getElementById(\"volume-icon\").classList.contains(\"fa-volume-xmark\")\n  ) {\n    document.getElementById(\"volume-icon\").classList.remove(\"fa-volume-xmark\");\n    document.getElementById(\"volume-icon\").classList.add(\"fa-volume-high\");\n  }\n}\nvolumneControl.addEventListener(\"change\", volumeChange);\nfunction visual() {\n  audioCtx = audioCtx || new AudioContext();\n  const ctx = canvas.getContext(\"2d\");\n\n  if (!audioSource) {\n    audioSource =\n      audioSource ||\n      audioCtx.createMediaElementSource(document.getElementById(\"audio\"));\n    analyser = audioCtx.createAnalyser();\n    audioSource.connect(analyser);\n    analyser.connect(audioCtx.destination);\n  }\n  filter = audioCtx.createBiquadFilter();\n  audioSource.connect(filter);\n  filter.connect(audioCtx.destination);\n\n  ranges.forEach(function (range) {\n    range.addEventListener(\"change\", function () {\n      filter.type = range.getAttribute(\"data-filter\");\n      filter.gain.value =\n        range.getAttribute(\"data-param\") === \"gain\" ? range.value : 0;\n      filter.frequency.value =\n        range.getAttribute(\"data-param\") === \"frequency\" ? range.value : 0;\n    });\n  });\n\n  var playPromise;\n\n  if (playPromise !== undefined) {\n    playPromise\n      .then((_) => {\n        if (!audioControl.paused) {\n          audioControl.play();\n        } else {\n          audioControl.pause();\n        }\n      })\n      .catch((error) => {});\n  }\n\n  analyser.fftSize = 128;\n  const bufferLength = analyser.frequencyBinCount;\n  const dataArray = new Uint8Array(bufferLength);\n\n  const barWidth = canvas.width / 2 / bufferLength;\n\n  let x = 0;\n\n  function animate() {\n    x = 0;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    analyser.getByteFrequencyData(dataArray);\n    drawVisualizer({ bufferLength, dataArray, barWidth });\n    requestAnimationFrame(animate);\n  }\n\n  const drawVisualizer = ({ bufferLength, dataArray, barWidth }) => {\n    let barHeight;\n    for (let i = 0; i < bufferLength; i++) {\n      barHeight = dataArray[i];\n      ctx.fillStyle = `rgb(${r}, ${g}, ${b})`;\n      ctx.fillRect(\n        canvas.width / 2 - x,\n        canvas.height - barHeight,\n        barWidth,\n        barHeight\n      );\n      x += barWidth;\n    }\n\n    for (let i = 0; i < bufferLength; i++) {\n      barHeight = dataArray[i];\n      ctx.fillStyle = `rgb(${r}, ${g}, ${b})`;\n      ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);\n      x += barWidth;\n    }\n  };\n\n  animate();\n}\ndocument\n  .getElementById(\"colorforChart\")\n  .addEventListener(\"change\", function (e) {\n    r = parseInt(e.currentTarget.value.slice(1, 3), 16);\n    g = parseInt(e.currentTarget.value.slice(3, 5), 16);\n    b = parseInt(e.currentTarget.value.slice(5, 7), 16);\n  });\ndocument.getElementById(\"app\").addEventListener(\"click\", visual);\ndocument.getElementById(\"play\").addEventListener(\"click\", audioControls);\ndocument.getElementById(\"forward\").addEventListener(\"click\", audioControls);\ndocument.getElementById(\"backward\").addEventListener(\"click\", audioControls);\ndocument.getElementById(\"volume\").addEventListener(\"click\", audioControls);\ndocument\n  .getElementById(\"playBackSpeed\")\n  .addEventListener(\"change\", function (e) {\n    console.log(e.currentTarget.value);\n    audioControl.playbackRate = e.currentTarget.value;\n  });\n\ndocument\n  .getElementById(\"equalizerSettings\")\n  .addEventListener(\"click\", function (e) {\n    document.getElementById(\"equalizerDiv\").classList.remove(\"hide\");\n    e.stopPropagation();\n  });\n$(window).click(function () {\n  if (!document.querySelector(\"#equalizerDiv\").classList.contains(\"hide\")) {\n    document.getElementById(\"equalizerDiv\").classList.add(\"hide\");\n  }\n  //Hide the menus if visible\n});\n\n// Show loading animation.\n"]}